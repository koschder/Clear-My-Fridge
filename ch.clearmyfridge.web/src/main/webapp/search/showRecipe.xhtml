<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html" template="/templates/main.xhtml">

	<ui:define name="title">
		<h:outputText value="Recipe" />
	</ui:define>

	<ui:define name="content">
		

	<f:view>
		<h2>
			<h:outputText value="Recipe " /><h:outputText value="#{recipesPageBean.recipe.name}" />
		</h2>

		<h:form>		
		
			<h:outputText value="#{recipe.description}" />
		
			<h3><h:outputText value="Ingredients" /></h3>
			<h:dataTable id="table" value="#{recipesPageBean.recipe.ingredients}"
			var="mapping" headerClass="table-header" styleClass="table" columnClasses="col col-id,col-id,col col-name">
			
						<h:column>

				<h:outputText value="#{mapping.quantity}" />
			</h:column>
			
						<h:column>
				<h:outputText value="#{mapping.unit}" />
			</h:column>
			
									<h:column>
				<h:outputText value="#{mapping.ingredient.name}" />
			</h:column>
			

			</h:dataTable>
					
		</h:form>
		
		<p>
		<h:outputText value="Rating:"></h:outputText>
		<h:outputText value=" #{recipesPageBean.averageRating} / 10" />
		</p>	
		
		<h3><h:outputText value="Rating" rendered="#{securityPageBean.userName != 'admin'}"/></h3>
		<h:form rendered="#{securityPageBean.userName != 'admin'}">
			
			
			<h:selectOneMenu value="#{recipesPageBean.ratingValueToSave}">
				<f:selectItem itemValue="1" itemLabel="1"></f:selectItem>
				<f:selectItem itemValue="2" itemLabel="2"></f:selectItem>
				<f:selectItem itemValue="3" itemLabel="3"></f:selectItem>
				<f:selectItem itemValue="4" itemLabel="4"></f:selectItem>
				<f:selectItem itemValue="5" itemLabel="5"></f:selectItem>
				<f:selectItem itemValue="6" itemLabel="6"></f:selectItem>
				<f:selectItem itemValue="7" itemLabel="7"></f:selectItem>
				<f:selectItem itemValue="8" itemLabel="8"></f:selectItem>
				<f:selectItem itemValue="9" itemLabel="9"></f:selectItem>
			</h:selectOneMenu>	
			
			<h:commandButton action="#{recipesPageBean.rate}" value="Rate" /> 
		</h:form>	


		<h:messages style="color: red;" />

	</f:view>

</ui:define>

</ui:composition>
